---
import BaseLayout from "../layouts/BaseLayout.astro";
import Icon from "../components/Icon.astro";
import TechBadge from "../components/TechBadge.astro";
import TimelineItem from "../components/TimelineItem.astro";

const timeline = [
  {
    title: "Senior Software Developer (SCM & Automation)",
    organization: "HelloFresh",
    location: "Berlin, Germany",
    date: "July 2021 – Present",
    description:
      "Leading supply chain network optimization and data automation initiatives.",
    bullets: [
      "Engineered a <strong>Network Planning System</strong> using Python and Pyomo/CP-SAT, identifying <strong>€10M+ in annual savings</strong>.",
      "Orchestrated complex ETL pipelines with <strong>Apache Airflow</strong> to standardise order data for downstream systems.",
      "Implemented real-time order streaming using <strong>Kafka</strong> for immediate warehouse synchronization.",
      "Designed and deployed asynchronous microservices on <strong>Kubernetes</strong> using Terraform.",
      "Optimized warehouse scheduling by building a hybrid <strong>Kotlin & Python</strong> application.",
    ],
    isCurrent: true,
  },
  {
    title: "Full Stack Developer & Researcher",
    organization: "Max Planck Institute",
    location: "Halle, Germany",
    date: "July 2015 – June 2021",
    description:
      "Combined software engineering with computational physics research.",
    bullets: [
      "Built a custom Experiment Management System (Django/React) to visualize massive scientific datasets.",
      "Developed <strong>Python scripts</strong> for hardware interfacing and automated data analysis, reducing manual workload by 90%.",
      "Established <strong>Jenkins</strong> pipelines for automated testing (TDD) and rapid deployment.",
    ],
    isLast: true,
  },
];

const education = [
  {
    degree: "Ph.D., Nano Science / Computational Physics",
    school: "Max Planck Institute / MLU Halle",
    year: "2021",
  },
  {
    degree: "M.Tech, Materials Science",
    school: "IIT Kanpur",
    year: "2013",
    note: "CPI: 9.47/10",
  },
  {
    degree: "B.Tech, Electronics & Communication",
    school: "Mizoram University",
    year: "2010",
    note: "Gold Medalist",
  },
];

const skills = {
  Backend: ["Python (Expert)", "Kotlin", "FastAPI", "Django", "SQLAlchemy"],
  Data: ["Apache Airflow", "Kafka", "Pandas", "Pyomo", "OR-Tools"],
  DevOps: ["Kubernetes", "Docker", "Terraform", "GitHub Actions", "GCP"],
  Frontend: ["React.js", "JavaScript", "HTML5", "CSS3"],
};
---

<BaseLayout
  title="Avanindra Kumar Pandeya - Senior Software Developer"
  description="Senior Software Developer expert in Python, optimization, and distributed systems."
>
  <div class="max-w-5xl mx-auto px-4 py-8 md:py-12">
    <!-- Design: 2-Column Resume Layout -->
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12">
      <!-- Left Column: Sidebar (Contact, Skills, Education) -->
      <aside class="lg:col-span-4 space-y-8 lg:pt-0">
        <!-- Header Info (Mobile Only typically, but here we keep it structured) -->
        <div class="space-y-4">
          <div>
            <h1
              class="text-3xl lg:text-4xl font-bold text-gray-900 dark:text-gray-100 leading-tight"
            >
              Avanindra Kumar Pandeya
            </h1>
            <h2
              class="text-xl text-accent dark:text-accent-dark font-medium mt-1"
            >
              Senior Software Developer
            </h2>
            <p
              class="text-gray-600 dark:text-gray-400 mt-1 flex items-center gap-2 text-sm"
            >
              <Icon name="location" class="w-4 h-4" /> Berlin, Germany
            </p>
          </div>

          <!-- Social/Contact Links -->
          <div class="flex flex-col gap-2">
            <a
              href="https://github.com/akpandeya"
              target="_blank"
              class="flex items-center gap-2 text-gray-700 dark:text-gray-300 hover:text-accent dark:hover:text-accent-dark transition-colors"
            >
              <Icon name="github" class="w-5 h-5 flex-shrink-0" />
              <span
                class="text-sm border-b border-transparent hover:border-current"
                >github.com/akpandeya</span
              >
            </a>
            <a
              href="https://de.linkedin.com/in/avanindra-kumar-pandeya-2469951b"
              target="_blank"
              class="flex items-center gap-2 text-gray-700 dark:text-gray-300 hover:text-accent dark:hover:text-accent-dark transition-colors"
            >
              <Icon name="linkedin" class="w-5 h-5 flex-shrink-0" />
              <span
                class="text-sm border-b border-transparent hover:border-current"
                >linkedin.com/in/avanindra...</span
              >
            </a>
            <a
              href="mailto:contact@akpandeya.com"
              class="flex items-center gap-2 text-gray-700 dark:text-gray-300 hover:text-accent dark:hover:text-accent-dark transition-colors"
            >
              <Icon name="mail" class="w-5 h-5 flex-shrink-0" />
              <span
                class="text-sm border-b border-transparent hover:border-current"
                >Get in Touch</span
              >
            </a>
          </div>
        </div>

        <hr class="border-gray-200 dark:border-gray-800" />

        <!-- Skills Section -->
        <div>
          <h3
            class="text-sm font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-4"
          >
            Technical Skills
          </h3>
          <div class="space-y-4">
            {
              Object.entries(skills).map(([category, items]) => (
                <div>
                  <h4 class="text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2">
                    {category}
                  </h4>
                  <div class="flex flex-wrap gap-1.5">
                    {items.map((tech) => (
                      <TechBadge
                        tech={tech}
                        category={category.toLowerCase() as any}
                      />
                    ))}
                  </div>
                </div>
              ))
            }
          </div>
        </div>

        <hr class="border-gray-200 dark:border-gray-800" />

        <!-- Education Section -->
        <div>
          <h3
            class="text-sm font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-4"
          >
            Education
          </h3>
          <div class="space-y-4">
            {
              education.map((edu) => (
                <div>
                  <h4 class="text-gray-900 dark:text-gray-100 font-medium leading-snug">
                    {edu.degree}
                  </h4>
                  <div class="text-sm text-gray-600 dark:text-gray-400">
                    {edu.school}
                  </div>
                  <div class="flex justify-between items-center mt-1">
                    <span class="text-xs text-gray-500 font-mono">
                      {edu.year}
                    </span>
                    {edu.note && (
                      <span class="text-xs font-medium text-accent dark:text-accent-dark">
                        {edu.note}
                      </span>
                    )}
                  </div>
                </div>
              ))
            }
          </div>
        </div>
      </aside>

      <!-- Right Column: Main Content -->
      <main class="lg:col-span-8 space-y-10">
        <!-- About / Summary -->
        <section>
          <h3
            class="text-xl font-bold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2"
          >
            <span class="w-8 h-1 bg-accent dark:bg-accent-dark rounded-full"
            ></span>
            Professional Summary
          </h3>
          <p class="text-gray-700 dark:text-gray-300 leading-relaxed text-lg">
            Senior Software Developer with <span
              class="font-medium text-gray-900 dark:text-white">8+ years</span
            > of experience building scalable backend systems and data-driven solutions.
            Expert in Python, distributed systems, optimization algorithms, and cloud
            infrastructure. Proven track record of delivering <span
              class="font-medium text-gray-900 dark:text-white"
              >massive cost savings</span
            > through efficient system design and algorithmic optimization.
          </p>
        </section>

        <!-- Experience -->
        <section>
          <h3
            class="text-xl font-bold text-gray-900 dark:text-gray-100 mb-6 flex items-center gap-2"
          >
            <span class="w-8 h-1 bg-accent dark:bg-accent-dark rounded-full"
            ></span>
            Experience
          </h3>
          <div class="space-y-0">
            {timeline.map((item) => <TimelineItem {...item} />)}
          </div>
        </section>

        <!-- Recent Writing (Simplified) -->
        <section>
          <div class="flex justify-between items-baseline mb-4">
            <h3
              class="text-xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2"
            >
              <span class="w-8 h-1 bg-accent dark:bg-accent-dark rounded-full"
              ></span>
              Writing
            </h3>
            <a
              href="/blog"
              class="text-sm text-accent dark:text-accent-dark hover:underline"
              >View All &rarr;</a
            >
          </div>
          <p class="text-gray-600 dark:text-gray-400">
            I write about software engineering, optimization, and my experiences
            in the tech industry. Check out my blog for the latest posts.
          </p>
        </section>
      </main>
    </div>
  </div>
</BaseLayout>
